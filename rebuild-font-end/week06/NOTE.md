## JS中的有限状态机（Mealy）

```javascript
 
  // 每一个函数是一个状态
  function state(inpit) // 函数参数就是输入
  {
      // 在函数中，可以自由的编写代码，处理每个状态的逻辑
      return next; // 返回值作为下一个状态
  }

  // 调用
  while(input){
      // 获取输入
      state = state(input); // 把状态机的返回值作为下一个状态
  }

```

## 解析HTML

* 属性值分为单引号、双引号、无引号三种写法，因此需要较多状 态处理
* 处理属性的方式跟标签类似
* 属性结束时，我们把属性加到标签Token上
* 从标签构建DOM树的基本技巧是使用栈
* 遇到开始标签时创建元素并入栈，遇到结束标签时出栈
* 自封闭节点可视为入栈后立刻出栈
* 文本节点与自封闭标签处理类似，且多个文本节点需要合并
* 任何元素的父元素是它入栈前的栈顶
